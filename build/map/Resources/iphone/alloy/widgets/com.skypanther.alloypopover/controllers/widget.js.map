{"version":3,"sources":["template.js","app/widgets/com.skypanther.alloypopover/controllers/widget.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ADjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/Users/exsalameh/Desktop/iProductive-2/Resources/iphone/alloy/widgets/com.skypanther.alloypopover/controllers/widget.js","sourceRoot":"/Users/exsalameh/Desktop/iProductive-2","sourcesContent":["var Alloy = require('/alloy'),\n\tBackbone = Alloy.Backbone,\n\t_ = Alloy._;\n\n\nfunction WPATH(s) {\n\tvar index = s.lastIndexOf('/');\n\tvar path = index === -1 ?\n\t\t'com.skypanther.alloypopover/' + s :\n\t\ts.substring(0, index) + '/com.skypanther.alloypopover/' + s.substring(index + 1);\n\n\treturn path.indexOf('/') !== 0 ? '/' + path : path;\n}\n\nfunction __processArg(obj, key) {\n\tvar arg = null;\n\tif (obj) {\n\t\targ = obj[key] || null;\n\t}\n\treturn arg;\n}\n\nfunction Controller() {\n\tvar Widget = new (require('/alloy/widget'))('com.skypanther.alloypopover');this.__widgetId='com.skypanther.alloypopover';\n\trequire('/alloy/controllers/' + 'BaseController').apply(this, Array.prototype.slice.call(arguments));\n\tthis.__controllerPath = 'widget';\n\tthis.args = arguments[0] || {};\n\n\tif (arguments[0]) {\n\t\tvar __parentSymbol = __processArg(arguments[0], '__parentSymbol');\n\t\tvar $model = __processArg(arguments[0], '$model');\n\t\tvar __itemTemplate = __processArg(arguments[0], '__itemTemplate');\n\t}\n\tvar $ = this;\n\tvar exports = {};\n\tvar __defers = {};\n\n\t// Generated code that must be executed before all UI and/or\n\t// controller code. One example is all model and collection\n\t// declarations from markup.\n\t\n\n\t// Generated UI code\n\t$.__views[\"popover\"] = Ti.UI.createWindow(\n{backgroundColor:\"transparent\",translucent:true,tintColor:Alloy.CFG.tintColor,navTintColor:\"#ffffff\",barColor:Alloy.CFG.borderColor,includeOpaqueBars:true,autoAdjustScrollViewInsets:true,statusBarStyle:Ti.UI.iOS.StatusBar.LIGHT_CONTENT,extendEdges:[Ti.UI.EXTEND_EDGE_TOP,Ti.UI.EXTEND_EDGE_BOTTOM,],navBarHidden:true,zIndex:2,id:\"popover\",}\n);\n$.__views[\"popover\"] && $.addTopLevelView($.__views[\"popover\"]);\n$.__views[\"backshade\"] = Ti.UI.createView(\n{backgroundColor:\"#2a2a2a\",opacity:0.6,top:0,left:0,right:0,bottom:0,id:\"backshade\",}\n);\n$.__views[\"popover\"].add($.__views[\"backshade\"]);\nif ((OS_IOS)) {\n$.__views[\"shadow\"] = Ti.UI.createView(\n{backgroundColor:\"#333\",width:\"75%\",height:\"80%\",opacity:0.6,id:\"shadow\",}\n);\n$.__views[\"popover\"].add($.__views[\"shadow\"]);\n}\n$.__views[\"wrapper\"] = Ti.UI.createView(\n{backgroundColor:\"white\",width:\"75%\",height:\"80%\",borderColor:\"#777\",borderWidth:3,borderRadius:4,id:\"wrapper\",}\n);\n$.__views[\"popover\"].add($.__views[\"wrapper\"]);\n$.__views[\"titlebar\"] = Ti.UI.createView(\n{backgroundColor:\"#777\",height:40,top:0,width:Ti.UI.FILL,backgroundGradient:{type:\"linear\",startPoint:{x:\"100%\",y:\"100%\",},endPoint:{x:\"100%\",y:\"0\",},colors:[{color:\"#666\",offset:0,},{color:\"#555\",offset:0.5,},{color:\"#777\",offset:1,},],},id:\"titlebar\",}\n);\n$.__views[\"wrapper\"].add($.__views[\"titlebar\"]);\n$.__views[\"leftnavbutton\"] = Ti.UI.createLabel(\n{textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,backgroundColor:\"transparent\",left:5,bottom:5,top:5,width:50,height:30,font:{fontSize:12,fontWeight:\"bold\",},backgroundImage:\"none\",borderColor:\"#444444\",borderWidth:1,color:\"#fff\",text:\"Left\",visible:false,backgroundGradient:{type:\"linear\",colors:[{color:\"#aaa\",},{color:\"#1a48a4\",},],},style:Titanium.UI.iOS.SystemButtonStyle.PLAIN,borderRadius:2,id:\"leftnavbutton\",}\n);\n$.__views[\"titlebar\"].add($.__views[\"leftnavbutton\"]);\n$.__views[\"title\"] = Ti.UI.createLabel(\n{textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,font:{fontSize:16,},fontWeight:\"bold\",color:\"white\",text:\"Title\",width:Ti.UI.SIZE,zIndex:1,id:\"title\",}\n);\n$.__views[\"titlebar\"].add($.__views[\"title\"]);\n$.__views[\"rightnavbutton\"] = Ti.UI.createLabel(\n{textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,backgroundColor:\"transparent\",right:5,bottom:5,top:5,width:50,height:30,font:{fontSize:12,fontWeight:\"bold\",},backgroundImage:\"none\",borderColor:\"#444\",borderWidth:1,color:\"#fff\",text:\"Right\",visible:false,backgroundGradient:{type:\"linear\",colors:[{color:\"#aaa\",},{color:\"#1a48a4\",},],},style:Titanium.UI.iOS.SystemButtonStyle.PLAIN,borderRadius:2,id:\"rightnavbutton\",}\n);\n$.__views[\"titlebar\"].add($.__views[\"rightnavbutton\"]);\n$.__views[\"contents\"] = Ti.UI.createView(\n{backgroundColor:\"white\",top:40,left:2,right:2,bottom:2,id:\"contents\",}\n);\n$.__views[\"wrapper\"].add($.__views[\"contents\"]);\nexports.destroy = function () {};\n\n\t// make all IDed elements in $.__views available right on the $ in a\n\t// controller's internal code. Externally the IDed elements will\n\t// be accessed with getView().\n\t_.extend($, $.__views);\n\n\t// Controller code directly from the developer's controller file\n\t__MAPMARKER_CONTROLLER_CODE__\n\n\t// Generated code that must be executed after all UI and\n\t// controller code. One example deferred event handlers whose\n\t// functions are not defined until after the controller code\n\t// is executed.\n\t\n\n\t// Extend the $ instance with all functions and properties\n\t// defined on the exports object.\n\t_.extend($, exports);\n}\n\nmodule.exports = Controller;\n","var args = arguments[0] || {};\n\n// add child views to controller if they exist\nif (args.children) {\n\n  _.each(args.children, function (child) {\n\n    // fix: https://jira.appcelerator.org/browse/TC-3583\n    if (!child) {\n      return;\n    }\n\n    $.contents.add(child);\n  });\n}\n\nvar disableBackshadeClose = false;\n$.init = function (args) {\n  if (!args) args = {};\n  if (args.disableBackshadeClose) disableBackshadeClose = true;\n  $.title.text = args.title ? args.title : '';\n  if (args && args.showLeftNavButton) {\n    $.leftnavbutton.text = args.leftNavButtonTitle ? args.leftNavButtonTitle : '';\n    $.leftnavbutton.visible = true;\n    $.leftnavbutton.addEventListener('click', function (e) {\n      e.bubbles = false;\n      e.cancelBubble = true;\n      if (args && args.view && args.view.children) {\n        var kids = args.view.children;\n        if (kids && kids.length) {\n          for (var i = 0, j = kids.length; i < j; i++) {\n            try {\n              kids[i].blur();\n            } catch (err) {}\n          }\n        }\n      }\n      if (typeof args.leftNavCallback == 'function') {\n        args.leftNavCallback();\n      }\n      $.hideMe();\n    });\n  }\n  if (args && args.showRightNavButton) {\n    $.rightnavbutton.text = args.rightNavButtonTitle ? args.rightNavButtonTitle : '';\n    $.rightnavbutton.visible = true;\n    $.rightnavbutton.addEventListener('click', function (e) {\n      e.bubbles = false;\n      e.cancelBubble = true;\n      if (args && args.view && args.view.children) {\n        var kids = args.view.children;\n        if (kids && kids.length) {\n          for (var i = 0, j = kids.length; i < j; i++) {\n            try {\n              kids[i].blur();\n            } catch (err) {}\n          }\n        }\n      }\n      args.rightNavCallback();\n      $.hideMe();\n    });\n  }\n  if (args && args.view) {\n    $.contents.add(args.view);\n  }\n};\n\nif (OS_IOS) {\n  var shadowOffset = Ti.UI.createAnimation({\n    transform: Ti.UI.create2DMatrix().translate(3, 3),\n    duration: 1 });\n\n  $.shadow.animate(shadowOffset);\n}\n\n\nvar duration = 200;\nif (OS_IOS) {\n  var showAnim = Titanium.UI.createAnimation({\n    opacity: 1,\n    duration: duration }),\n\n  hideAnim = Titanium.UI.createAnimation({\n    // closes quicker than opens\n    opacity: 0,\n    duration: duration / 2 });\n\n\n}\n$.popover.addEventListener('click', function (e) {\n  if (e.source.id == 'backshade' && !disableBackshadeClose) {\n    if (OS_IOS) $.popover.animate(hideAnim);\n    setTimeout(function () {\n      $.popover.close();\n    }, duration);\n  }\n});\n\n$.hideMe = function () {\n  if (OS_IOS) $.popover.animate(hideAnim);\n  setTimeout(function () {\n    $.popover.close();\n  }, duration);\n};\n\n$.showMe = function (theArgs) {\n  var args = theArgs || {};\n  if (args.view) {\n    try {\n      $.contents.removeAllChildren();\n    } catch (err) {\n      alert(JSON.stringify(err));\n    }\n    $.contents.add(args.view);\n  }\n  $.popover.opacity = 0;\n  $.popover.open();\n  if (OS_IOS) {\n    $.popover.animate(showAnim);\n  } else {\n    $.popover.opacity = 1;\n  }\n};"]}