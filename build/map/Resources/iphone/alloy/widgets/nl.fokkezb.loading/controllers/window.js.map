{"version":3,"sources":["template.js","app/widgets/nl.fokkezb.loading/controllers/window.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ADvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/Users/exsalameh/Desktop/iProductive-2/Resources/iphone/alloy/widgets/nl.fokkezb.loading/controllers/window.js","sourceRoot":"/Users/exsalameh/Desktop/iProductive-2","sourcesContent":["var Alloy = require('/alloy'),\n\tBackbone = Alloy.Backbone,\n\t_ = Alloy._;\n\n\nfunction WPATH(s) {\n\tvar index = s.lastIndexOf('/');\n\tvar path = index === -1 ?\n\t\t'nl.fokkezb.loading/' + s :\n\t\ts.substring(0, index) + '/nl.fokkezb.loading/' + s.substring(index + 1);\n\n\treturn path.indexOf('/') !== 0 ? '/' + path : path;\n}\n\nfunction __processArg(obj, key) {\n\tvar arg = null;\n\tif (obj) {\n\t\targ = obj[key] || null;\n\t}\n\treturn arg;\n}\n\nfunction Controller() {\n\tvar Widget = new (require('/alloy/widget'))('nl.fokkezb.loading');this.__widgetId='nl.fokkezb.loading';\n\trequire('/alloy/controllers/' + 'BaseController').apply(this, Array.prototype.slice.call(arguments));\n\tthis.__controllerPath = 'window';\n\tthis.args = arguments[0] || {};\n\n\tif (arguments[0]) {\n\t\tvar __parentSymbol = __processArg(arguments[0], '__parentSymbol');\n\t\tvar $model = __processArg(arguments[0], '$model');\n\t\tvar __itemTemplate = __processArg(arguments[0], '__itemTemplate');\n\t}\n\tvar $ = this;\n\tvar exports = {};\n\tvar __defers = {};\n\n\t// Generated code that must be executed before all UI and/or\n\t// controller code. One example is all model and collection\n\t// declarations from markup.\n\t\n\n\t// Generated UI code\n\t$.__views[\"win\"] = Ti.UI.createWindow(\n{backgroundColor:\"transparent\",translucent:true,tintColor:Alloy.CFG.tintColor,navTintColor:\"#ffffff\",barColor:Alloy.CFG.borderColor,includeOpaqueBars:true,autoAdjustScrollViewInsets:true,statusBarStyle:Ti.UI.iOS.StatusBar.LIGHT_CONTENT,extendEdges:[Ti.UI.EXTEND_EDGE_TOP,Ti.UI.EXTEND_EDGE_BOTTOM,],backgroundImage:null,opacity:0.7,navBarHidden:true,modal:false,theme:\"Theme.AppCompat.Translucent.NoTitleBar\",id:\"win\",}\n);\n$.__views[\"win\"] && $.addTopLevelView($.__views[\"win\"]);\nonFocus?$.addListener($.__views[\"win\"],'focus',onFocus):__defers['$.__views[\"win\"]!focus!onFocus']=true;onBlur?$.addListener($.__views[\"win\"],'blur',onBlur):__defers['$.__views[\"win\"]!blur!onBlur']=true;$.__views[\"view\"] = Alloy.createWidget('nl.fokkezb.loading','view',{id:\"view\",__parentSymbol:$.__views[\"win\"],});\n$.__views[\"view\"].setParent($.__views[\"win\"]);\nhide?$.__views[\"view\"].on('cancel',hide):__defers['$.__views[\"view\"]!cancel!hide']=true;exports.destroy = function () {};\n\n\t// make all IDed elements in $.__views available right on the $ in a\n\t// controller's internal code. Externally the IDed elements will\n\t// be accessed with getView().\n\t_.extend($, $.__views);\n\n\t// Controller code directly from the developer's controller file\n\t__MAPMARKER_CONTROLLER_CODE__\n\n\t// Generated code that must be executed after all UI and\n\t// controller code. One example deferred event handlers whose\n\t// functions are not defined until after the controller code\n\t// is executed.\n\t__defers['$.__views[\"win\"]!focus!onFocus'] && $.addListener($.__views[\"win\"],'focus',onFocus);__defers['$.__views[\"win\"]!blur!onBlur'] && $.addListener($.__views[\"win\"],'blur',onBlur);__defers['$.__views[\"view\"]!cancel!hide'] && $.__views[\"view\"].on('cancel',hide);\n\n\t// Extend the $ instance with all functions and properties\n\t// defined on the exports object.\n\t_.extend($, exports);\n}\n\nmodule.exports = Controller;\n","$.update = update;\n$.show = show;\n$.hide = hide;\n\nObject.defineProperty($, 'visible', {\n  get: function () {\n    return isOpen && hasFocus;\n  },\n  set: function (visible) {\n    return visible ? show() : hide();\n  } });\n\n\nvar cancelable;\n\n// Bug: https://jira.appcelerator.org/browse/TC-2857\nvar isOpen = false;\n\nvar hasFocus = false;\n\n(function constructor(args) {\n\n  if (OS_ANDROID) {\n    $.win.addEventListener('androidback', function onAndroidback() {\n\n      if (!_.isFunction(cancelable)) {\n\n        if (OS_ANDROID && e.type === 'androidback') {\n          var intent = Ti.Android.createIntent({\n            action: Ti.Android.ACTION_MAIN });\n\n          intent.addCategory(Ti.Android.CATEGORY_HOME);\n          Ti.Android.currentActivity.startActivity(intent);\n        }\n\n        return;\n\n      } else {\n        $.view.cancel();\n      }\n    });\n  }\n\n  if (OS_ANDROID) {\n\n    $.win.addEventListener('open', function onOpen(e) {\n\n      // Bug: https://jira.appcelerator.org/browse/TC-2857\n      isOpen = true;\n    });\n  }\n\n  args = null;\n\n})(arguments[0] || {});\n\nfunction update(_message, _cancelable) {\n  $.view.update(_message, _cancelable);\n\n  cancelable = _cancelable;\n}\n\nfunction show(_message, _cancelable) {\n  $.view.show(_message, _cancelable);\n\n  $.win.open();\n}\n\nfunction hide() {\n\n  var close = function close() {\n    $.view.hide();\n    $.win.close();\n\n    cancelable = null;\n  };\n\n  if (!OS_ANDROID || isOpen) {\n    close();\n\n    // Bug: https://jira.appcelerator.org/browse/TC-2857\n  } else {\n    var interval = setInterval(function atInterval() {\n      if (isOpen) {\n        close();\n        clearInterval(interval);\n      }\n    }, 100);\n  }\n}\n\nfunction onFocus(e) {\n  hasFocus = true;\n}\n\nfunction onBlur(e) {\n  hasFocus = false;\n}"]}